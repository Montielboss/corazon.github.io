<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Corazón Pequeño con Chispas</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            cursor: pointer;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        canvas { display: block; }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }
        resize();
        window.addEventListener('resize', resize);
        
        // Partículas de chispas
        const particles = [];
        class Particle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 12;
                this.vy = (Math.random() - 0.5) * 12;
                this.life = 1;
                this.decay = Math.random() * 0.015 + 0.008;
                this.color = `hsl(${Math.random() * 60}, 100%, ${70 + Math.random() * 30}%)`;
                this.size = Math.random() * 4 + 2;
            }
            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.vy += 0.12;
                this.life -= this.decay;
                this.size *= 0.98;
                this.vx *= 0.99;
            }
            draw() {
                ctx.save();
                ctx.globalAlpha = this.life;
                ctx.fillStyle = this.color;
                ctx.shadowColor = this.color;
                ctx.shadowBlur = 10;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }
        
        // CORAZÓN MÁS PEQUEÑO (35px en lugar de 80px)
        function drawPerfectHeart(x, y, size) {
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(size, size);
            ctx.fillStyle = '#ff1493';
            ctx.shadowColor = '#ff69b4';
            ctx.shadowBlur = 20;
            
            ctx.beginPath();
            const steps = 100;
            for(let i = 0; i < steps; i++) {
                const t = (i / steps) * Math.PI * 2;
                const heartX = 16 * Math.sin(t) * Math.sin(t) * Math.sin(t);
                const heartY = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
                if(i === 0) ctx.moveTo(heartX, heartY);
                else ctx.lineTo(heartX, heartY);
            }
            ctx.closePath();
            ctx.fill();
            ctx.shadowBlur = 0;
            ctx.restore();
        }
        
        let mouseX = width / 2;
        let mouseY = height / 2;
        
        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const clientX = e.clientX - rect.left;
            const clientY = e.clientY - rect.top;
            const heartX = width / 2;
            const heartY = height / 2;
            const heartSize = 15;
            const distance = Math.sqrt((clientX - heartX) ** 2 + (clientY - heartY) ** 2);

            if(distance <= heartSize * 10) {
                mouseX = clientX;
                mouseY = clientY;
                for(let i = 0; i < 30; i++) {
                    particles.push(new Particle(mouseX, mouseY));
                }
            }
        });
        
        function animate() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)';
            ctx.fillRect(0, 0, width, height);
            
            // CORAZÓN PEQUEÑO PULSANTE
            const pulse = Math.sin(Date.now() * 0.005) * 0.15 + 1;
            drawPerfectHeart(width / 2, height / 2, 15 * pulse);
            
            for(let i = particles.length - 1; i >= 0; i--) {
                particles[i].update();
                particles[i].draw();
                if(particles[i].life <= 0 || particles[i].size < 0.5) {
                    particles.splice(i, 1);
                }
            }
            
            requestAnimationFrame(animate);
        }
        animate();
    </script>
</body>
</html>